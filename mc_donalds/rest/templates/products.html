{% extends 'layout/base.html' %}

{% block title %}
Products
{% endblock title %}


{% block content %}

<h1>Все продукты</h1>
{% if products %}
<!-- Перед таблицей добавим форму для поиска -->

<form method="GET">
   {{ filter.form }}
   <!-- Форму от фильтров за нас сделает Django. А вот кнопку, увы, придётся делать самим -->
   <input class="btn btn-primary" type="submit" value="Найти">
</form>

<table class="table">
   <tr>
       <th scope="col">
           Название
       </th>
       <th scope="col">
           Описание
       </th>
       <th scope="col">
           Категория
       </th>
       <th scope="col">
           Цена
       </th>

   </tr>
   {% for product in filter.qs %}

   <tr>
       <td>
           {{ product.name }}
       </td>
       <td>
           {{ product.description }}
       </td>
       <td>
           {{ product.get_type_display|safe }}
       </td>
       </td>
       <td>
           {{ product.price }}
       </td>

   </tr>
   {% endfor %}
</table>
{% else %}

<h2>Еды нет, кушать нечего...</h2>
{% endif %}


<form method="POST">
   {% csrf_token %}
   {{ form }}
   <!-- Теперь нам нужна только готовая форма и кнопка -->
   <input class="btn btn-success" type="submit" value="Add">
</form>

{% endblock content %}